<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MemeSnap — Random Meme Generator</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@700;800&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

  <!-- Stylesheet loaded before body renders to prevent flash of unstyled content -->
  <link rel="stylesheet" href="css/styles.css" />

  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 36 36'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop offset='0' stop-color='%23805DE1'/%3E%3Cstop offset='1' stop-color='%233769E8'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='36' height='36' rx='8' fill='url(%23g)'/%3E%3Ccircle cx='13' cy='15' r='2' fill='white'/%3E%3Ccircle cx='23' cy='15' r='2' fill='white'/%3E%3Cpath d='M12 21 Q18 27 24 21' stroke='white' stroke-width='2' fill='none' stroke-linecap='round'/%3E%3C/svg%3E">
</head>
<body>

  <header class="app-header">
    <div class="app-logo">
      <div class="app-logo-icon"><i data-lucide="laugh"></i></div>
      <span class="app-name">MemeSnap</span>
    </div>
  </header>

  <!-- Hero — explains data origin upfront so users know what to expect before clicking Generate -->
  <section class="app-hero">
    <h1 class="app-hero-heading">Random Memes,<br>Instantly.</h1>
    <p class="app-hero-sub">Pulls real-time memes directly from Reddit's most popular communities — no account, no setup, just memes.</p>
    <div class="app-hero-badges">
      <span class="app-hero-badge"><i data-lucide="rss"></i>Live from Reddit</span>
      <span class="app-hero-badge"><i data-lucide="zap"></i>Instant &amp; free</span>
      <span class="app-hero-badge"><i data-lucide="shield-off"></i>No sign-in</span>
    </div>
  </section>

  <main class="app-main">

    <div class="meme-card" id="meme-card" style="display:none;">
      <div class="meme-image-wrap" id="meme-image-wrap">
        <img id="meme-img" src="" alt="Meme image" />
        <div class="state-overlay" id="img-state" style="display:none;"></div>
      </div>
      <div class="meme-card-body">
        <div class="meme-meta-row" id="meme-meta-row">
          <a class="meme-subreddit" id="meme-subreddit" href="#" target="_blank" rel="noopener noreferrer">
            <i data-lucide="rss"></i>
            <span id="meme-subreddit-label">r/memes</span>
          </a>
          <span class="meme-flair" id="meme-flair" style="display:none;"></span>
        </div>
        <h2 class="meme-title" id="meme-title">Loading meme…</h2>
        <div class="meme-stats" id="meme-stats">
          <span class="meme-stat" id="stat-score">
            <i data-lucide="arrow-up-circle"></i>
            <span id="stat-score-val">—</span>
          </span>
          <span class="meme-stat" id="stat-comments">
            <i data-lucide="message-circle"></i>
            <span id="stat-comments-val">—</span>
          </span>
          <span class="meme-stat" id="stat-author">
            <i data-lucide="user-round"></i>
            <span id="stat-author-val">—</span>
          </span>
        </div>
        <!-- Upvote ratio as a subtle progress bar — gives quick quality signal without explicit percentages -->
        <div class="ratio-bar"><div class="ratio-fill" id="ratio-fill" style="width:0%"></div></div>
      </div>
      <div class="meme-card-actions">
        <button class="icon-btn" id="btn-copy-link" title="Copy image link" aria-label="Copy image link">
          <i data-lucide="link"></i>
        </button>
        <button class="icon-btn" id="btn-open" title="Open image in new tab" aria-label="Open image in new tab">
          <i data-lucide="image"></i>
        </button>
        <div class="spacer"></div>
        <a class="btn-reddit" id="btn-reddit" href="#" target="_blank" rel="noopener noreferrer">
          <i data-lucide="external-link"></i>
          View on Reddit
        </a>
        <button class="icon-btn" id="btn-share" title="Share" aria-label="Share meme">
          <i data-lucide="share-2"></i>
        </button>
      </div>
    </div>

    <div class="empty-state" id="empty-state">
      <div class="empty-state-icon"><i data-lucide="image-plus"></i></div>
      <h2>Ready to Meme?</h2>
      <p>Hit the button below to pull a random meme from Reddit's best communities.</p>
    </div>

    <button class="btn-generate" id="btn-generate">
      <i data-lucide="shuffle"></i>
      <span id="btn-label">Generate Meme</span>
    </button>

  </main>

  <!-- Lightbox — full-screen zoom on image click -->
  <div class="lightbox" id="lightbox" role="dialog" aria-label="Full size image">
    <button class="lightbox-close" id="lightbox-close" aria-label="Close image">
      <i data-lucide="x"></i>
    </button>
    <img id="lightbox-img" src="" alt="Full size meme" />
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite">
    <i data-lucide="check-circle-2"></i>
    <span id="toast-msg">Copied!</span>
  </div>

  <!-- lucide.createIcons() runs first so all data-lucide attributes in the HTML are resolved
       before app.js binds event listeners that depend on fully-rendered icon nodes -->
  <script>lucide.createIcons();</script>

  <!-- Deferred to end of body so all DOM IDs are available when app.js queries them -->
  <script src="js/app.js"></script>
</body>
</html>
